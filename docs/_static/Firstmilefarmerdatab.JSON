{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"id": "http://data-impact.com/thefirstmile-referenceframe/JSON/",	
	"title": "First Mile Farmer Data Schema",
	"description": "Data format for first mile farmer data",
	"language": "en",
	"type": "object",
	"required": 
	[
		"metadata"
	],
	"properties": 
	{
		"metadata": 
		{     
	"title": "metadata",
	"description": "Metadata about the first mile farm dataset",
	"type": "object",
	"required": 
	[
		"exportDate",
		"dataProvidersGeolocation",
		"dataProvidersID",
		"dataProvidersName",
		"datasetDescription"
	],
	"primarykey": 
	[
		"exportDate",
		"dataProvidersGeolocation"
	],
	"properties": 
	{
		"exportDate": 
		{
			"title": "Export date",
			"description": "Date when the data has been exported from the database into First Mile Export Format",
			"type": "string",
			"format": "date-time"
		},
		"datasetDescription": 
		{
			"title": "Dataset description",
			"description": "Description of the data set that is converted into First Mile Export Format",
			"type": "string"
		},
		"dataProvidersGeolocation": 
		{
			"title": "Geolocation of the data provider",
			"description": "Location of the frontdoor of head office of the organisation that converted it's data into First Mile Export Format indicated by WGS84 Lat-Long Coordinates ddd.ddddd.",
			"$ref": "#/definitions/position"
		},
		"dataProvidersID": 
		{
			"title": "Legal registration number of the data provider",
			"description": "Legal registration number of the organisation that converted its data into First Mile Data Format",
			"type": "string"
		},
		"dataProvidersName": 
		{
			"title": "data provider name",
			"description": "Official name of the organisation that converted its data into First Mile Data Format",
			"type": "string"
		},
		"dataProvidersAdress": 
		{
			"title": "data providers lega; adress",
			"description": "The legally registered address of the organisation that converted it's data into First Mile Data Format.",
			"$ref": "#/definitions/adress"
		},
		"dataProvidersPointofContact": 
		{
			"title": "data provider point of contact",
			"description": "Contact point of the organisation that converted it's data into First Mile Export Format",
			"$ref": "#/definitions/contactpoint"
		}
		}
		},
		"groups": 
		{     
			"type": "array",
			"description": "Array of farmer group descriptors",
			 "items": 
					{ 
"title": "Famer group",
	"description": "Schema for the description of farmer groups",
	"type": "object",
	"required": 
	[
		"groupRecordGlobalID",
		"groupInternalID",
		"groupGeoID",
		"groupName",
		"groupDescription"
	],
	"primarykey": 
	[
		"groupRecordGlobalID"
	],
	"properties": 
	{
		"groupRecordGlobalID": 
		{
			"title": "Global Group Record ID",
			"description": "Globally Unique ID of the recording of the farmer group at a specific time and by a specific organisation.",
			"$ref": "#/definitions/GlobalID"
		},
		"groupInternalID": 
		{
			"title": "Internal Group ID",
			"description": "Internal dataset ID for the farmers group in the dataset",
			"type": "string"
		},
		"groupGeoID": 
		{
			"title": "GeoID of the Farmergroup",
			"description": "Geolocation that helps to uniquely identify the farmer group in the field",
			"$ref": "#/definitions/GeoID"
		},
		"groupName": 
		{
			"title": "Name of the farmer group",
			"description": "Official name farmer group",
			"type": "string"
		},
		"groupDescription": 
		{
			"title": "Group description",
			"description": "Description of the farmersgroup",
			"type": "string"
		},
		"groupAddress": 
		{
			"title": "Group address",
			"description": "An address. This is the (legally) registered address of the organization.",
			"$ref": "#/definitions/adress"
		},
		"groupContactPoint": 
		{
			"title": "Contact point farmers group",
			"description": "An person, contact point or department to contact at the farmergroup",
			"$ref": "#/definitions/contactpoint"
		},
		"farmer-IDS": 
		{
			"title": "Member farmers",
			"description": "Array of all the farmer IDs, as used by the data collecting organisation, who are member of the group by ;",
			"type": "array",
			"items": 
			[
				{
					"type": "string"
				}
			]
		},
		"groupArea": 
		{
			"title": "Group Area",
			"description": "Area of operation of the famers group WGS84 Lat-Long Coordinates ddd.dddd",
			"$ref": "#/definitions/polygon"
		},
		"groupCertificates": 
		{
			"title": "Group Certificates",
			"description": "Certifications from standard organisations granted to this farmers group",
			"type": "string"
		},
		"totalAmountofCertifiedProduce": 
		{
			"title": "Total amount of Certified Produce",
			"description": "Total amount of certified produce in stock expressed in kg",
			"type": "number",
			"minimum": 0
		}
		}
		}
	},


		"farmers": {
			"type": "array",
			"description": "Array of farmer descriptors",
			 "items": 
					{ 
					
"title": "Farmer",
	"description": "Schema for the description of a farmer",
	"type": "object",
	"required": 
	[
		"farmerRecordGlobalID",
		"farmerInternalID",
		"farmerGeoID",
		"farmerFirstName",
		"farmerFamilyName"
	],
	"primarykey": 
	[
		"farmerRecordGlobalID"
	],
	"properties": 
	{
		"farmerRecordGlobalID": 
		{
			"title": "Global farmer Record ID",
			"description": "Globally Unique ID of the recording of the farmer at a specific time and by a specific organisation.",
			"$ref": "#/definitions/GlobalID"
		},
		"farmerInternalID": 
		{
			"title": "Internal farmer ID",
			"description": "Internal dataset ID for the farmer in the dataset",
			"type": "string"
		},
		"farmerGeoID": 
		{
			"title": "GeoID of the Farmer",
			"description": "Geolocation that helps to uniquely identify the farmer in the field",
			"$ref": "#/definitions/GeoID"
		},
		"farmerFirstName": 
		{
			"title": "First name ",
			"description": "First name farmer",
			"type": "string"
		},
		"farmerFamilyName": 
		{
			"title": "Family name",
			"description": "Family name farmer",
			"type": "string"
		},
		"FarmersAddress": 
		{
			"title": "Address of the farmer",
			"description": "An address. This is the (legally) registered address of the organization.",
			"$ref": "#/definitions/adress"
		},
		"groupInternalIDs": 
		{
			"title": "groupInternalIDs",
			"description": "Array of group Internal Identification numbers linking the farmer to 1 or more groups",
			"type": "array",
			"items": 
			{
				"type": "string"
			}
		}
	}
		

			
					}
		},

		"farms": {
			"type": "array",
			"description": "Array of farm descriptor",
			 "items": 
					{ 

	"title": "Farm",
	"description": "Schema for the description of a farm",
	"type": "object",
	"required": 
	[
		"farmRecordGlobalID",
		"farmInternalID",
		"farmGeoID",
		"farmName",
		"farmDescription"
	],
	"primarykey": 
	[
		"farmRecordGlobalID"
	],
	"Foreignkey": 
	[
		"farmerInternalID",
		"owner_ID"
	],
	"properties": 
	{
		"farmRecordGlobalID": 
		{
			"title": "Global Farm Record ID",
			"description": "Globally Unique ID of the recording of the farm at a specific time and by a specific organisation.",
			"$ref": "#/definitions/GlobalID"
		},
		"farmInternalID": 
		{
			"title": "Internal Farm ID",
			"description": "Internal dataset ID for the farm in the dataset",
			"type": "string"
		},
		"farmGeoID": 
		{
			"title": "GeoID of the Farm",
			"description": "Geolocation that helps to uniquely identify the farm  in the field",
			"$ref": "#/definitions/GeoID"
		},
		"farmAddress": 
		{
			"title": "Address of the farm",
			"description": "An address. This is the (legally) registered address of the organization.",
			"$ref": "#/definitions/adress"
		},
		"owner_ID": 
		{
			"title": "Owner-ID",
			"description": "ID of the owner as used by the datacollecting organisation",
			"type": "string"
		},
		"farmerInternalID": 
		{
			"title": "Internal Farmer ID",
			"description": "Internal dataset ID for the farmer in the dataset",
			"type": "string"
		},
		"plotInternalIDs": 
		{
			"title": "Internal ID for the plot",
			"description": "Array of internal  plot_IDs ",
			"type": "Array",
			"items": 
			{
				"type": "string"
			}
		},
		"herdInternalIDs": 
		{
			"title": "Internal ID for the herd",
			"description": "Array of internal  herd_IDs ",
			"type": "Array",
			"items": 
			{
				"type": "string"
			}
		},
		"workerInternalIDs": 
		{
			"title": "Internal ID for the worker",
			"description": "Array of internal  worker_IDs ",
			"type": "Array",
			"items": 
			{
				"type": "string"
			}
		},
		"farmBoundary": 
		{
			"title": "Farm Boundary",
			"description": "All the land belonging to (and not necessarily owned by) farm",
			"$ref": "#/definitions/polygon"
		},
		"farmArea": 
		{
			"title": "Farm Area",
			"description": "Surface area of all land belonging to (and not necessarily owned by) farm",
			"type": "number",
			"minimum": 0
		},
		"stockofProduce": 
		{
			"title": "Stock of Produce",
			"description": "Total stock of produce on the farm",
			"type": "number",
			"minimum": 0
		}
	}


		}
		},
		"plots":{ 
		"type": "array",
		"description": "Array of plot descriptors",
			 "items": 
					{ 
					
	"title": "Farm plot",
	"description": "Schema for the description of a farm plot ",
	"required": 
	[
		"plotRecordGlobalID",
		"plotInternalID",
		"plotGeoID",
		"plotName",
		"plotDescription",
		"farmInternalID"
	],
	"primarykey": 
	[
		"plotRecordGlobalID"
	],
	"Foreignkey": 
	[
		"farmInternalID",
		"owner_ID"
	],
	"properties": 
	{
		"plotRecordGlobalID": 
		{
			"title": "Global Plot Record ID",
			"description": "Globally Unique ID of the recording of the plot at a specific time and by a specific organisation.",
			"$ref": "#/definitions/GlobalID"
		},
		"plotInternalID": 
		{
			"title": "Internal Plot ID",
			"description": "Internal dataset ID for the plot in the dataset",
			"type": "string"
		},
		"plotGeoID": 
		{
			"title": "GeoID of the Plot",
			"description": "Geolocation that helps to uniquely identify the plot in the field",
			"$ref": "#/definitions/GeoID"
		},
		"owner_ID": 
		{
			"title": "Owner-ID",
			"description": "ID of the owner as used by the datacollecting organisation",
			"type": "string"
		},
		"farm-ID": 
		{
			"title": "Farm-ID",
			"description": "Identification number of the farm which uses this plot, as used by the datacollecting organisation",
			"type": "string"
		},
		"plotGeometry": 
		{
			"title": "plotGeometry",
			"description": "Geometry of the plot as measured",
			"$ref": "#/definitions/polygon"
		},
		"plotArea": 
		{
			"title": "Plot area",
			"description": "Total area of the plot in hectare",
			"type": "number",
			"minimum": 0
		},
		"soilType": 
		{
			"title": "Soil type",
			"description": "Main soil type of the plot area using World Reference Base for Soil Resources",
			"type": "integer",
			"minimum": 0
		},
		"mainCrop": 
		{
			"title": "MainCrop",
			"description": "Name and variety of the main crop",
			"type": "string"
		},
		"interCrop": 
		{
			"title": "interCrop",
			"description": "Name and variety of the inter crop",
			"type": "string"
		},
		"borderCrop": 
		{
			"title": "borderCrop",
			"description": "Name and variety of the border crop",
			"type": "string"
		},
		"expectedHarvestMainCrop": 
		{
			"title": "Expected harvest result main crop",
			"description": "Expected harvest result main crop",
			"type": "number",
			"minimum": 0
		}
	}

		}
		},
		 
			"plotObservations": {
			"type": "array",
			"description": "Array of plotObservations descriptors",
				"items": 
					{ 

	"title": "Crop observation ",
	"description": "Schema for the description of a crop observation ",
	"required": 
	[
		"cropObservationRecordGlobalID",
		"cropObservationInternalID",
		"cropObservationGeometry",
		"cropObservationDescription"
	],
	"primarykey": 
	[
		"cropObservationRecordGlobalID"
	],
	"Foreignkey": 
	[
		"plotInternalID"
	],
	"properties": 
	{
		"cropObservationRecordGlobalID": 
		{
			"title": "Global cropObservation Record ID",
			"description": "Globally Unique ID of the recording of the cropObservation at a specific time and by a specific organisation.",
			"$ref": "#/definitions/GlobalID"
		},
		"cropObservationInternalID": 
		{
			"title": "Internal ID for the CropObservation",
			"description": "Internal dataset ID for the crop observation  in the dataset",
			"type": "string"
		},
		"cropObservationGeometry": 
		{
			"title": "CropObservationGeometry",
			"description": "Geometry of the Observation as measured",
			"type": "object",
			"required": 
			[
				"type",
				"coordinates"
			],
			"oneOf": 
			[
				{
					"title": "Point",
					"properties": 
					{
						"type": 
						{
							"enum": 
							[
								"Point"
							]
						},
						"coordinates": 
						{
							"$ref": "#/definitions/position"
						}
					}
				},
				{
					"title": "LineString",
					"properties": 
					{
						"type": 
						{
							"enum": 
							[
								"LineString"
							]
						},
						"coordinates": 
						{
							"$ref": "#/definitions/lineString"
						}
					}
				},
				{
					"title": "Polygon",
					"properties": 
					{
						"type": 
						{
							"enum": 
							[
								"Polygon"
							]
						},
						"coordinates": 
						{
							"$ref": "#/definitions/polygon"
						}
					}
				}
			]
		},
		"cropObservationDescription": 
		{
			"title": "Description of het crop observation",
			"description": "Description of het crop observation",
			"type": "string"
		},
		"plotInternalID": 
		{
			"title": "plotInternalID",
			"description": "Internal Identification number of the plot",
			"type": "string"
		}
	}


		}
		}

		

	},
		"definitions": 
	{
		"GlobalID": 
		{
			"title": "Global ID",
			"description": "Globally unique identifier for the record",
			"type": "object",
			"required": 
			[
				"ID",
				"dataCollectorsGeolocation",
				"collectionTimeDateStamp"
			],
			"properties": 
			{
				"ID": 
				{
					"title": "ID",
					"description": "ID for the data entity as used originally by the datacollector",
					"type": "string"
				},
				"dataCollectorsGeolocation": 
				{
					"title": "Geolocation of the datacollecting organisation",
					"description": "Location of the frontdoor of head office of the organisation that collected the data indicated by WGS84 Lat-Long Coordinates ddd.dddd",
					"$ref": "#/definitions/position"
				},
				"collectionTimeDateStamp": 
				{
					"title": "Date-time of data collection",
					"description": "Date when the data has been collected by the data collecting organisation",
					"type": "string",
					"format": "date-time"
				},
				"dataCollectingOrganisationName": 
				{
					"title": "Name of the data collecting organisation",
					"description": "Official name under which the organisation that collected the data is registered in the country of the head office",
					"type": "string"
				},
				"dataCollectorsID": 
				{
					"title": "Legal registration number of the data collecting organisation",
					"description": "Legal registration number of the organisation collected the data",
					"type": "string"
				}
			}
		},
		"GeoID": 
		{
			"title": "ID geolocation",
			"description": "Geolocation used to uniquely identify and object or to facilitate it's identification",
			"type": "object",
			"required": 
			[
				"Geolocation",
				"DescriptionIDGeolocation"
			],
			"properties": 
			{
				"Geolocation": 
				{
					"title": "Geolocation",
					"description": "Geolocation that helps to identify the object in the future. Choose the option with the lowest number: 1 Location of main entrance of the object or the front door of the main office from where operations take place; 2 Centerpoint of the object or centerpoint of area of operation of the object; 3 Location on the object or in the area of operation; 4 Location near the object or near the area of operation of the object; 5 Location where the interview has taken place, indicated by WGS84 Lat-Long Coordinates ddd.dddd",
					"$ref": "#/definitions/position"
				},
				"DescriptionIDGeolocation": 
				{
					"title": "Description of the IDGeolocation",
					"description": "Description where the reference point has been taken that has been used as an ID.",
					"type": "string",
					"enum": 
					[
						"1 Location of main entrance of the object or the front door of the main office from where operations take place",
						"2 Centerpoint of the object or centerpoint of area of operation of the object",
						"3 Location on the object or in the area of operation",
						"4 Location near the object or near the area of operation of the object",
						"5 Location where the interview has taken place"
					]
				}
			}
		},
		"position": 
		{
			"description": "A single position",
			"type": "array",
			"minItems": 2,
			"items": 
			[
				{
					"type": "number"
				},
				{
					"type": "number"
				}
			],
			"additionalItems": false
		},
		"positionArray": 
		{
			"description": "An array of positions",
			"type": "array",
			"items": 
			{
				"$ref": "#/definitions/position"
			}
		},
		"lineString": 
		{
			"description": "An array of two or more positions",
			"allOf": 
			[
				{
					"$ref": "#/definitions/positionArray"
				},
				{
					"minItems": 2
				}
			]
		},
		"linearRing": 
		{
			"description": "An array of four positions where the first equals the last",
			"allOf": 
			[
				{
					"$ref": "#/definitions/positionArray"
				},
				{
					"minItems": 4
				}
			]
		},
		"polygon": 
		{
			"description": "An array of linear rings",
			"type": "array",
			"items": 
			{
				"$ref": "#/definitions/linearRing"
			}
		},
		"dataattributestructure": 
		{
			"title": "Data attribute structure",
			"description": "Data elements to describe a data attribute",
			"type": "object",
			"required": 
			[
				"dataEntity",
				"attributeTitle",
				"attributeDescription",
				"attributeType"
			],
			"properties": 
			{
				"dataEntiy": 
				{
					"title": "Title of the data entity",
					"description": "Title of the data entity the data attribute belongs to",
					"type": "string"
				},
				"attributeTitle": 
				{
					"title": "Title of the data attribute",
					"description": "Title of the data attribute",
					"type": "string"
				},
				"attributeDescription": 
				{
					"title": "Description of the data attribute",
					"description": "Description of the data atrribute",
					"type": "string"
				},
				"attributeType": 
				{
					"title": "Type of data attribute",
					"description": "Type of data atrribute",
					"type": "string"
				}
			}
		},
		"dataEntityStructure": 
		{
			"title": "Data Entity Structure",
			"description": "Structure of the customized data entity",
			"type": "object",
			"required": 
			[
				"entityTitle",
				"entityDescription"
			],
			"properties": 
			{
				"entiyTitle": 
				{
					"title": "Title of the data entity",
					"description": "Title of the data entity",
					"type": "string"
				},
				"entityDescription": 
				{
					"title": "Description of the data entity",
					"description": "Description of the data entiy",
					"type": "string"
				}
			}
		},
		"adress": 
		{
			"title": "address",
			"description": "An address. This is the legally registered address of the organization.",
			"type": "object",
			"properties": 
			{
				"streetAddress": 
				{
					"title": "Street address",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The street address. For example, 1600 Amphitheatre Pkwy."
				},
				"locality": 
				{
					"title": "Locality",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The locality. For example, Mountain View."
				},
				"region": 
				{
					"title": "Region",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The region. For example, CA."
				},
				"postalCode": 
				{
					"title": "Postalcode",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The postal code. For example, 94043."
				},
				"countryName": 
				{
					"title": "Country name",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The country name. For example, United States."
				}
			},
			"patternProperties": 
			{
				"^(countryName_(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)))$": 
				{
					"type": 
					[
						"string",
						"null"
					]
				}
			}
		},
		"contactpoint": 
		{
			"title": "contact point",
			"type": "object",
			"description": "An person, contact point or department to contact in relation to this contracting process.",
			"properties": 
			{
				"name": 
				{
					"title": "Name",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The name of the contact person, department, or contact point, for correspondence relating to this contracting process."
				},
				"email": 
				{
					"title": "Email",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The e-mail address of the contact point/person."
				},
				"telephone": 
				{
					"title": "Telephone",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The telephone number of the contact point/person. This should include the international dialling code."
				},
				"faxNumber": 
				{
					"title": "Fax number",
					"type": 
					[
						"string",
						"null"
					],
					"description": "The fax number of the contact point/person. This should include the international dialling code."
				},
				"url": 
				{
					"title": "URL",
					"type": 
					[
						"string",
						"null"
					],
					"description": "A web address for the contact point/person.",
					"format": "uri"
				}
			},
			"patternProperties": 
			{
				"^(name_(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)))$": 
				{
					"type": 
					[
						"string",
						"null"
					]
				}
			}
		}
	}	
}